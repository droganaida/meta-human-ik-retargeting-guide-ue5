# MetaHuman IK Retargeting Guide for Unreal Engine 5 (Third Person Template)

This guide explains how to replace the default **Third Person Template** character in Unreal Engine 5 with a **MetaHuman**, properly retarget animations using **IK Rig**, and fix common **Foot IK issues** (feet sticking to the ground, broken IK, incorrect landing animations).

> **Video tutorial (original Russian voice-over, English subtitles available):**
> [https://youtu.be/iYvgm-V5YPw](https://youtu.be/iYvgm-V5YPw)

---

## Step 1. Create a Third Person Template project

Create a new Unreal Engine 5 project using the **Third Person** template.

![Create a new Unreal Engine 5 project](images/img_001.jpg)

---

## Step 2. Create and export a MetaHuman

Create your MetaHuman in the **MetaHuman Creator** and export it to your Unreal Engine project.

![Create your MetaHuman](images/img_002.jpg)

---

## Step 3. Transfer MetaHuman components to the Third Person Character Blueprint

1. Open the **MetaHuman Character Blueprint**.
2. Copy the following components:

   * `LODSync`
   * `MetaHuman`
   * `Face` (with all Groom assets)
   * Clothing components

> Do **not** copy the body mesh yet.

Select the components using **Ctrl**, then press **Ctrl+C**.

![Select the components](images/img_003.jpg)

3. Open the default **Third Person Character Blueprint** and paste the components.

![Paste the components](images/img_004.jpg)

4. The hierarchy will look messy (this is expected). Fix it manually:

   * Move **Face** and all clothing components under the body mesh component (now called `Mesh`).
   * Reset **Location** and **Rotation** to `0,0,0` for Face and clothing Skeletal Mesh components.
   * Replace the Skeletal Mesh in the `Mesh` component with the **Body** mesh from the MetaHuman Blueprint.

![Fix the hierarchy](images/img_005.jpg)

5. Copy the **Construction Script** logic from the MetaHuman Blueprint into the **Third Person Character** Construction Script and fix broken references.

![Construction Script logic](images/img_006.jpg)

6. Remove **ARKit** and **LiveLink** related logic.

![Remove ARKit and LiveLink related logic](images/img_007.jpg)

7. Copy the **Enable Master Pose** function from the MetaHuman Blueprint.

![Copy the Enable Master Pose function](images/img_008.jpg)

8. Paste it into the Third Person Character Blueprint, replace broken nodes if needed.

![Paste the Enable Master Pose function](images/img_009.jpg)

---

## Step 4. Retarget the Animation Blueprint

1. Find `ABP_Unarmed` and retarget it.

![Retarget ABP_Unarmed](images/img_010.jpg)

2. Select your MetaHuman **Body Skeletal Mesh** as the target.

   * Do **not** select any assets in the asset list.

![Retarget to your MetaHuman](images/img_011.jpg)

3. At this stage, you should have **two IK Rigs**:

   * One for the default mannequin
   * One for the MetaHuman

![IK Rigs](images/img_012.jpg)

---

## Step 5. Fix the IK Rig Root chain

1. Open the IK Rig for the **Third Person Character**.
2. Delete the retarget chain named `Root`.

![Delete the retarget chain named Root](images/img_013.jpg)

3. Recreate the `Root` chain:

   * **Start Bone:** `spine_01`
   * **End Bone:** `spine_05`

![Recreate the Root chain](images/img_014.jpg)

4. Repeat the same steps for the **MetaHuman IK Rig**.

![Recreate the Root chain for the MetaHuman](images/img_015.jpg)

---

## Step 6. Add IK bones to the MetaHuman skeleton

1. Open the mannequin Skeletal Mesh: `SKM_Manny_Simple`.
2. Go to the **Skeleton** tab â†’ **Edit Skeleton**.
3. In the **Skeleton Tree**, select all bones starting from `ik_foot_root` and below (use **Shift**).
4. Copy them (**Ctrl+C**).

![Copy bones](images/img_016.jpg)

5. Open your MetaHuman **Body Skeletal Mesh**.
6. Go to **Skeleton** â†’ **Edit Skeleton**.
7. Select the `root` bone and paste the copied IK bones (**Ctrl+V**).

![Paste bones](images/img_017.jpg)

8. Click **Apply to Asset** and save the Skeletal Mesh.

![Apply to Asset](images/img_018.jpg)

---

## Step 7. Retarget animations again

1. Retarget `ABP_Unarmed` again.

![Retarget ABP_Unarmed](images/img_010.jpg)

2. Settings:

   * Target Skeletal Mesh: MetaHuman Body
   * Disable **Auto Generate Retargeter**
   * Retargeter: `RTG_AutoGenerated` (from Step 4)
   * Asset to retarget: `ABP_Unarmed`

Click **Export Animations**.

![Export Animations](images/img_019.jpg)

3. A new Animation Blueprint with the same name will appear. Rename it to avoid confusion.

![Rename the Animation Blueprint](images/img_020.jpg)

4. Assign the new Animation Blueprint to `BP_ThirdPersonCharacter`.

![Assign the new Animation Blueprint](images/img_021.jpg)

At this point, **Foot IK should work**. However, you may encounter a landing animation bug (A-pose on landing).

* If the issue exists â†’ continue to Step 8
* If not â†’ skip to Step 9

---

## Step 8. Fix the landing Additive animation

1. Open the new `ABP_Unarmed`.
2. Go to **AnimGraph** â†’ `Main States` â†’ `Land`.
3. Double-click the `MM_Land` node.

![Open MM_Land](images/img_022.jpg)

4. In **Asset Details**, set:

   * **Additive Anim Type:** `Local Space`

![Change Additive Anim Type](images/img_023.jpg)

5. Return to the `Land` state and:

   * Add **Apply Mesh Space Additive** node
   * Base: cached pose `Locomotion`
   * Additive: `MM_Land`
   * Connect output to the final pose

Save the Animation Blueprint.

![Save the Animation Blueprint](images/img_024.jpg)

---

## Step 9. Fix Control Rig and Foot IK for MetaHuman

1. Duplicate the Control Rig used by the mannequin.

![Duplicate the Control Rig](images/img_025.jpg)

2. Open the new Control Rig.
3. In **Rig Hierarchy**, select the `root` bone â†’ right-click â†’ **Refresh**.
4. Assign your MetaHuman **Body Skeletal Mesh**.

> The rig editor may close â€” just reopen it.

![Refresh Control Rig](images/img_026.jpg)

5. Replace all red (broken) bone references with correct MetaHuman bone names.
6. Save the Control Rig asset.

![Replace all broken bone references](images/img_027.jpg)

7. Assign the updated Control Rig in the Animation Blueprint.

![Assign the updated Control Rig](images/img_028.jpg)

---

## Done!

Your MetaHuman should now behave exactly like the default Unreal Engine mannequin, with fully working **Foot IK**, retargeted animations, and correct landing behavior.

---

Thanks for reading!

ðŸ”— Check out:

* SilverCord-VR website: [https://silvercord-vr.com/](https://silvercord-vr.com/)
* Steam: [https://store.steampowered.com/search/?developer=SilverCord-VR](https://store.steampowered.com/search/?developer=SilverCord-VR)
* FAB: [https://www.fab.com/sellers/SilverCord-VR](https://www.fab.com/sellers/SilverCord-VR)
